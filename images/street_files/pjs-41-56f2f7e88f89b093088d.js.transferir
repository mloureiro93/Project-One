(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[41],{"1kao":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("GyhR"),o=n("+U6O");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i="rgb(226, 226, 226)",c="rgb(218, 218, 218)";function l(e){var t,n=e.active,l=void 0!==n&&n,s=e.borderRadius,u=e.children,d=e.focused,p=void 0!==d&&d,f=e.hovered,m=void 0!==f&&f,h=e.shape,b=e.hoverBgColor,y=e.bgColor,g=void 0===y?"transparent":y,w=e.size,v=l?{backgroundColor:"transparent"===g?"rgba(0, 0, 0, 0.1)":c}:null,E=!m||p||l?null:{backgroundColor:b||("transparent"===g?"rgba(0, 0, 0, 0.06)":i)},_=p?{backgroundColor:"transparent"===g?"rgba(0, 0, 0, 0.06)":i,boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:"0"}:null;if("circle"===h)switch(void 0===w?"lg":w){case"xs":t=24;break;case"sm":t=32;break;case"md":t=40;break;case"lg":t=48;break;case"xl":t=56;break;default:t=48}var P=t,x=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({backgroundColor:{transparent:"transparent",lightGray:"#efefef",white:"#fff",transparentDarkGray:"rgba(51, 51, 51, 0.8)"}[g]},E,v,_,s?{borderRadius:s}:{});return r.createElement(o.c,{shape:h,dangerouslySetInlineStyle:{__style:x},height:t,width:P},u)}},"2cEh":function(e,t,n){"use strict";var r=n("WQSK"),o=n("Aa8G"),a=n("/YZq"),i=n("E56J"),c=n("ePT2"),l=n("aqOH"),s=a.a.getLogger("WebPushManager"),u=function(){};Object.assign(u.prototype,{sendSubscriptionToServer:function(e,t,n,a){var u=o.a.getInstance().v2GetGroup("unauth_desktop_push_notification")||"";s.debug("Calling: sendSubscriptionToServer"),r.b("cm_sub","allowed",8760,"/"),t&&t(),l.default&&l.default.isAuthenticated()?i.a.increment("auth.web.notifications.allowed",1,{sourceLandingPage:a}):i.a.increment("unauth.web.notifications.allowed",1,{unauth_web_push_group:u,category_name:n});var d=e.subscriptionId;if(!d){var p=e.endpoint.split("/");d=p[p.length-1]}if(l.default&&l.default.isAuthenticated())return c.a.create("WebPushDeviceResource",{}).callGet({showError:!1}).then((function(t){var n=t.resource_response.data;if(!(d in n)){var r={registration_id:d,subscription_endpoint:e.endpoint};return c.a.create("WebPushDeviceResource",r).callCreate()}s.debug("subscription id already exists")}));if(null!==n&&""!==n&&void 0!==n){var f={device_id:d,cat_name:n.toUpperCase()};return c.a.create("UnauthWebPushDeviceResource",f).callUpdate()}},subscribe:function(e,t,n,a){var c=this,u=o.a.getInstance().v2GetGroup("unauth_desktop_push_notification")||"";return l.default&&l.default.isAuthenticated()?i.a.increment("auth.web.notifications.viewed",1,{sourceLandingPage:a}):i.a.increment("unauth.web.notifications.viewed",1,{unauth_web_push_group:u,category_name:n}),navigator.serviceWorker.ready.then((function(o){o.pushManager.subscribe({userVisibleOnly:!0}).then((function(t){return c.sendSubscriptionToServer(t,e,n,a)}),(function(o){"denied"===Notification.permission?(r.b("cm_sub","denied",8760,"/"),e&&e(),s.debug("subscribe: Notification.permission === denied"),l.default&&l.default.isAuthenticated()?i.a.increment("auth.web.notifications.denied",1,{sourceLandingPage:a}):i.a.increment("unauth.web.notifications.denied",1,{unauth_web_push_group:u,category_name:n})):(r.b("cm_sub","dismissed",8760,"/"),t&&t(),s.debug("subscribe: exception"),l.default&&l.default.isAuthenticated()?i.a.increment("auth.web.notifications.dismissed",1,{sourceLandingPage:a}):i.a.increment("unauth.web.notifications.dismissed",1,{unauth_web_push_group:u,category_name:n}))}))}))},initializeState:function(){var e=this;if(l.default.isLimitedLogin())return s.debug("User is limited login"),void r.b("cm_sub","denied",8760,"/");var t=o.a.getInstance().v2GetGroup("unauth_desktop_push_notification")||"";return l.default.isAuthenticated()||t.startsWith("enabled")?"showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(s.debug("User denied notification from Pinterest"),void r.b("cm_sub","denied",8760,"/")):"PushManager"in window?navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(t){if(t)return e.sendSubscriptionToServer(t);throw r.b("cm_sub","none",8760,"/"),new Error})).catch((function(e){s.debug("initialiseState: exception: ",e)})):(s.debug("Push messaging is not supported"),void r.b("cm_sub","denied",8760,"/")):(s.debug("Service doesn't support notification"),void r.b("cm_sub","denied",8760,"/")):(s.debug("User not authenticated"),void r.b("cm_sub","denied",8760,"/"))}}),u.instance=function(){return u._instance||(u._instance=new u),u._instance},"undefined"!=typeof window&&window.addEventListener("load",(function(){"serviceWorker"in navigator?navigator.serviceWorker.register("/sw.js").then((function(){u.instance().initializeState()})):s.debug("service worker is not supported")})),t.a=u},"3XYW":function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),i=n("s199"),c=n.n(i),l=n("47qe"),s=n.n(l),u=n("Qo1m"),d=(n("IX6r"),n("+U6O"));function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){function t(){var e,n,r,o,a,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return r=this,n=!(o=(e=m(t)).call.apply(e,[this].concat(s)))||"object"!==p(o)&&"function"!=typeof o?b(r):o,a=b(b(n)),c={completedCheck:!1},(i="state")in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"initiateCheckAnimation",value:function(){var e=this,t=this.props,n=t.isCompleted,r=t.idx;n&&setTimeout((function(){window.requestAnimationFrame((function(){e.setState({completedCheck:!0})}))}),500+500*r)}},{key:"componentDidUpdate",value:function(){this.initiateCheckAnimation()}},{key:"componentDidMount",value:function(){this.initiateCheckAnimation()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.icon,r=e.children,a=e.isCompleted,i=e.inCheckAnimationExp,c=e.text,l=e.inWebChecklistRedesignExp,s=e.image,u=this.state.completedCheck,p=l?o.a.createElement(d.c,{height:"120px",width:"216px",color:"blue",shape:"rounded",display:"flex",justifyContent:"end",alignItems:"center",direction:"column",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0, 0, 0, .18)"}}},o.a.createElement(d.c,{width:"156px",height:"73px"},o.a.createElement(d.p,{color:"white",src:s,alt:t,naturalHeight:148,naturalWidth:312})),o.a.createElement(d.c,{shape:"roundedBottom",color:"white",bottom:!0,height:"40px",width:"100%",padding:1,dangerouslySetInlineStyle:{__style:{lineHeight:"32px"}}},o.a.createElement(d.K,{size:"lg",bold:!0,align:"center"},c))):o.a.createElement(o.a.Fragment,null,o.a.createElement(d.c,{marginRight:3},i?o.a.createElement("div",{className:u?"CheckListIcon__completed":"CheckListIcon"},o.a.createElement(d.n,{size:18,icon:u?"check":n,accessibilityLabel:u?"done":t,color:u?"white":"blue"})):o.a.createElement(d.c,{padding:4,color:a?"blue":"white",shape:"circle"},o.a.createElement(d.n,{size:18,icon:a?"check":n,accessibilityLabel:a?"done":t,color:a?"white":"blue"}))),r);return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.c,{width:265,alignItems:"center",lgDisplay:"none",mdDisplay:"flex",smDisplay:"flex"},p),o.a.createElement(d.c,{width:265,alignItems:"center",justifyContent:"center",lgDisplay:"flex",mdDisplay:"none",smDisplay:"none"},p))}}])&&f(n.prototype,r),a&&f(n,a),t}(r.PureComponent),g=n("8WpO");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=E(t).call(this,e))||"object"!==w(o)&&"function"!=typeof o?P(r):o,x(P(P(n)),"explosionAnimationDelayMS",800),x(P(P(n)),"completeExperienceDelayMS",3400),x(P(P(n)),"fadeOutAnimationDelayMS",2600),n.state={fadeCelebrationIn:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.handleComplete;window.requestAnimationFrame((function(){return e.setState({fadeCelebrationIn:!0})})),setTimeout((function(){return e.setState({fadeCelebrationIn:!1})}),this.fadeOutAnimationDelayMS),setTimeout(t,this.completeExperienceDelayMS)}},{key:"render",value:function(){var e,t=this.state.fadeCelebrationIn;return o.a.createElement(d.c,{display:"flex",color:"white",alignItems:"center",justifyContent:"center"},o.a.createElement(d.u,{shape:"rounded",width:"100%",height:"100%"},o.a.createElement(g.a,{delay:this.explosionAnimationDelayMS,startAnimation:t},o.a.createElement(d.c,{width:"100%",dangerouslySetInlineStyle:(e=t,{__style:{transition:"opacity ".concat(e?"0.4":"0.8","s ease"),opacity:e?1:0,padding:"70px"}})},o.a.createElement(d.c,{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},o.a.createElement("h1",{style:{color:"#333",zIndex:9999,fontSize:"3em"}},u.a._("You got this!","Celebratory text to encourage user to keep on completing more actions")))))))}}])&&v(n.prototype,r),a&&v(n,a),t}(r.PureComponent),C=n("ePT2"),O=n("g+ED"),S=n.n(O),j=n("ggpB"),I=n("9Y9K"),T=n("UmN8");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",(function(){return N})),n.d(t,"a",(function(){return G}));function N(e){return new Promise((function(t,n){return C.a.create("UserResource",{user_id:e,field_set_key:"pin_actions"}).callGet().then(t).catch(n)}))}function G(e){return new Promise((function(t,n){return C.a.create("UserStateResource",{state:e,value:1}).callCreate().then(t).catch(n)}))}var z=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=L(t).call(this,e),n=!o||"object"!==A(o)&&"function"!=typeof o?D(r):o,F(D(D(n)),"delayBeforeCompletionMS",5e3),F(D(D(n)),"celebrationAnimationDelayMS",3500),F(D(D(n)),"completeAppInstall",(function(){var e=n.props,t=e.didAppInstall,r=e.completeAppInstall;t||(G("HAS_DONE_APP_INSTALL"),r())})),n.state={showCelebration:!1,fadeChecklistOut:!1};var a=e.initialDidPinClickthrough,i=e.initialDidPinCloseup,c=e.initialDidPinSave,l=e.initialDidAppInstall,s=e.updatePinActions,u=e.didPinClickthrough,d=e.didPinCloseup,p=e.didPinSave,f=e.didAppInstall;return a&&(u=!0),i&&(d=!0),c&&(p=!0),l&&(f=!0),s({didPinClickthrough:u,didPinCloseup:d,didPinSave:p,didAppInstall:f}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),n=t,(o=[{key:"startCelebrationAnimation",value:function(){var e=this;setTimeout((function(){window.requestAnimationFrame((function(){e.setState({fadeChecklistOut:!0}),window.requestAnimationFrame((function(){e.setState({showCelebration:!0})}))}))}),this.celebrationAnimationDelayMS)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.experienceId,n=e.handleComplete,r=e.initialDidPinClickthrough,o=e.initialDidPinCloseup,a=e.initialDidPinSave,i=e.initialDidAppInstall,c=e.checklistExpGroup,l=this.props,s=l.didPinClickthrough,u=l.didPinCloseup,d=l.didPinSave,p=l.didAppInstall;r&&(s=!0),o&&(u=!0),a&&(d=!0),i&&(p=!0),(501370===t?p:s)&&u&&d&&("check_celebration_animation"===c||"celebration_animation"===c||"enabled"===c?this.startCelebrationAnimation():setTimeout(n,this.delayBeforeCompletionMS))}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.experienceId,a=n.didPinClickthrough,i=n.didPinCloseup,l=n.didPinSave,p=n.didAppInstall,f=n.handleDismiss,m=n.checklistExpGroup,h=n.handleComplete,b=n.inWebChecklistRedesignExp,g=this.state,w=g.showCelebration,v=g.fadeChecklistOut,E="check_animation"===m||"check_celebration_animation"===m||"enabled"===m;e=(501370===o?p:a)&&i&&l?u.a._("You're ready! Keep exploring to find your next great idea","user completed list of actions below the header"):l?u.a._("Saved! Each Pin you save improves your feed","user completed a pin save and the header text is changing"):a?u.a._("See! Every Pin links to the website it came from","user completed a pin clickthrough and the header text is changing"):p?u.a._("Nice! The app offers a faster Pinterest experience on the go","user has a todo checklist item to install the mobile app from the google play or apple store"):i?u.a._("Nice find! You can click any Pin to learn more about it","user completed a closeup and the header text is changing"):u.a._("Here's how to get the most out of Pinterest","user has a list of actions below the header to complete");var _=[{name:"closeup",accessibilityLabel:"closeup",icon:"arrow-up-right",text:u.a._("Click on a Pin you like","explaining what to do to complete the closeup step of checklist"),isCompleted:i,image:s.a},{name:"repin",accessibilityLabel:"save",icon:"pin",text:u.a._("Save it for later","explaining what to do to complete the pin save step of checklist"),isCompleted:l,image:S.a},501370===o?{name:"appInstall",accessibilityLabel:"link",icon:"download",text:u.a._("Install the app","explaining what to do to complete the app install step of checklist"),isCompleted:p,image:""}:{name:"clickthrough",accessibilityLabel:"link",icon:"globe",text:u.a._("Visit the link it's from ","explaining what to do to complete the clickthrough step of checklist"),isCompleted:a,image:c.a}];return r.createElement(d.H,{dangerouslySetZIndex:{__zIndex:2},top:60},w?r.createElement(k,{handleComplete:h}):r.createElement(d.c,{dangerouslySetInlineStyle:v?{__style:{transition:"opacity 0.4s ease",opacity:0,backgroundColor:"white"}}:null},r.createElement(d.c,{color:b?"transparent":"lightGray",display:"flex",dangerouslySetInlineStyle:{__style:{overflow:"hidden"}}},r.createElement(d.c,{display:"flex",alignItems:"center",justifyContent:"center",paddingX:12,paddingY:8,color:b?"transparent":"blue",maxWidth:550,width:"100%",dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"80px 380px"}}},r.createElement(d.m,{size:"sm",color:b?"darkGray":"white",overflow:"normal"},e)),r.createElement(d.c,{position:"absolute",top:!0,right:!0,paddingY:2,paddingX:5},r.createElement(d.o,{accessibilityLabel:u.a._("Hide Checklist","hide the checklist of pin actions at the top of the homefeed"),icon:"cancel",onClick:f,size:"sm"})),r.createElement(d.c,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},r.createElement(d.c,{display:"flex",padding:4,marginStart:-4,marginEnd:-4,marginTop:-2,marginBottom:-2,maxWidth:900,width:"100%",wrap:!0},_.map((function(e,n){var o=e.name,a=e.icon,i=e.accessibilityLabel,c=e.text,l=e.isCompleted,s=e.image;return r.createElement(d.h,{key:c,lgSpan:4,span:12},r.createElement(d.c,{display:"flex",justifyContent:"center",paddingX:4,paddingY:2},r.createElement("div",{onClick:function(){return Object(j.a)("checklist.".concat(o,".click"))}},r.createElement(y,{idx:n,accessibilityLabel:i,icon:a,isCompleted:l,inCheckAnimationExp:E,text:c,inWebChecklistRedesignExp:b,image:s},r.createElement(d.c,null,r.createElement(d.K,{size:"xl"},c),"appInstall"===o&&r.createElement(d.c,{direction:"column"},r.createElement(d.K,{size:"sm"},r.createElement(d.c,{display:"flex"},r.createElement(d.c,{marginEnd:3},r.createElement(d.t,{href:"https://bnc.lt/unauth-android-upsell-desktop-web",target:"blank",inline:!0,onClick:t.completeAppInstall},u.a._("Google Play","Button that links to Google Play Pinterest Android App"))),r.createElement(d.t,{href:"https://bnc.lt/unauth-ios-upsell-desktop-web",target:"blank",inline:!0,onClick:t.completeAppInstall},u.a._("Apple App Store","Button that links to Apple App Store Pinterest Android App"))))))))))})))))),b&&r.createElement(d.j,null))}}])&&R(n.prototype,o),a&&R(n,a),t}(r.PureComponent);t.b=Object(I.compose)(Object(a.connect)((function(e){var t=e.ui.checklist;return{didPinCloseup:t.didPinCloseup,didPinClickthrough:t.didPinClickthrough,didPinSave:t.didPinSave,didAppInstall:t.didAppInstall}}),(function(e){return{updatePinActions:function(t){return e({type:"UPDATE_PIN_ACTIONS",payload:t})},completeAppInstall:function(){return e({type:"COMPLETE_APP_INSTALL"})}}})))((function(e){return r.createElement(T.a,{name:"web_checklist_check_celebration_animation"},(function(t){var n=t.group;return r.createElement(T.a,{name:"web_checklist_redesign"},(function(t){var o=t.anyEnabled;return r.createElement(z,Object.assign({},e,{checklistExpGroup:n,inWebChecklistRedesignExp:o}))}))}))}))},"47qe":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/closeupImage-c3c6ddf3.png"},"8UPC":function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=n("iJ35"),c=(n("hvnN"),n("QJ2d")),l=n("OLQZ"),s=n.n(l),u=n("ggpB"),d=n("+U6O");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=10,w=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=m(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==p(o)&&"function"!=typeof o?b(r):o,y(b(b(n)),"state",{isVisible:!0}),y(b(b(n)),"onScroll",s()((function(){var e=n.getScrollPos();e>g?n.setState({isVisible:!1}):0===e&&n.setState({isVisible:!0})}))),y(b(b(n)),"handleGotItClick",(function(){Object(u.a)("auth_eu_cookie_banner_dismissed"),n.props.onGotItClick&&n.props.onGotItClick()})),n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll),this.onScroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"getScrollPos",value:function(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}},{key:"hide",value:function(){this.state.isVisible&&this.setState({isVisible:!1})}},{key:"show",value:function(){this.state.isVisible||this.setState({isVisible:!0})}},{key:"handleLearnMoreClick",value:function(){Object(u.a)("auth_eu_cookie_banner_learnmore")}},{key:"handlePrivacyClick",value:function(){Object(u.a)("auth_eu_cookie_banner_privacy")}},{key:"render",value:function(){var e={__style:{animation:this.state.isVisible?"fadeIn .5s":"fadeOutAndHide .5s forwards",backgroundColor:"#1c232c",opacity:.8,zIndex:1e3}};return o.a.createElement("div",{className:"EuCookieBar"},o.a.createElement(d.c,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:e,height:36,justifyContent:"between",position:"fixed",xs:{column:12,display:"flex"}},o.a.createElement(d.c,{deprecatedPadding:{x:2}},o.a.createElement(i.b,{onClick:this.handlePrivacyClick,style:{color:"white"},to:c.a.settings.ABOUT_PRIVACY_URL},a.a._("Privacy","Accessible label for the Privacy link in the EU cookie bar"))),o.a.createElement(d.c,{display:"flex",alignItems:"center"},o.a.createElement(d.c,{deprecatedPadding:{x:1}},o.a.createElement(d.K,{color:"gray",inline:!0,size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},a.a._("Pinterest is using cookies to help give you the best experience we can.","Accessible label for the cookie text description in the EU cookie bar"))),o.a.createElement(d.c,{deprecatedPadding:{x:1}},o.a.createElement(i.b,{onClick:this.handleLearnMoreClick,style:{color:"white"},to:c.a.settings.ABOUT_COOKIE_URL},a.a._("Learn More","Accessible label for the Learn More link in the EU cookie bar"))),o.a.createElement(d.c,{deprecatedPadding:{x:1}},o.a.createElement("button",{className:"Button borderless cookieButton",onClick:this.handleGotItClick},a.a._("Got it!","Accessible label for the Got it! button in the EU cookie bar"))))))}}])&&f(n.prototype,r),l&&f(n,l),t}(r.PureComponent),v=n("iz36"),E=function(e){var t=e.placementId;return r.createElement(v.a,{experienceIds:[14e3],placementId:t},(function(e){var t=e.complete;return r.createElement(w,{onGotItClick:t})}))},_=n("G8pY"),P=n("Ljpz"),x=n("dsfX");var k=function(e){var t=e.connectType,n=e.onConfirm,r=e.onHide,i=a.a._("Erase existing password?");return o.a.createElement(x.b,{accessibilityCloseLabel:a.a._("Close"),accessibilityModalLabel:i,onDismiss:r,heading:i,footer:o.a.createElement(d.c,{marginLeft:-1,marginRight:-1},o.a.createElement(d.c,{padding:1},o.a.createElement(d.d,{size:"lg",text:a.a._("Cancel","Button text for canceling connect and erase password"),onClick:r})),o.a.createElement(d.c,{padding:1},o.a.createElement(d.d,{size:"lg",color:"red",text:a.a._("Okay","Button text for accepting connect and erase password"),onClick:n}))),role:"alertdialog"},o.a.createElement(d.c,{padding:4},o.a.createElement(d.K,null,"google"===t?a.a._("Please confirm that you’ll log in with Google—rather than your previous Pinterest password—in the future"):a.a._("Please confirm that you’ll log in with Facebook—rather than your previous Pinterest password—in the future"))))},C=function(e){var t=e.connectType,n=e.onConfirm;return o.a.createElement(x.b,{accessibilityCloseLabel:a.a._("Close","Button text for closing account connect confirmation"),accessibilityModalLabel:a.a._("Successfully connected account","Accessible label for success message after account connect"),onDismiss:n,heading:a.a._("Success!","Title for success message after account connect"),footer:o.a.createElement(d.c,{marginLeft:-1,marginRight:-1},o.a.createElement(d.c,{padding:1},o.a.createElement(d.d,{size:"lg",color:"red",text:a.a._("Got it","Button text for accepting account connect confirmation"),onClick:n}))),role:"alertdialog"},o.a.createElement(d.c,{padding:4},o.a.createElement(d.K,null,"google"===t?a.a._("You can now log into Pinterest with your Google account.","Inform users they should log in with Google after compromised account flow"):a.a._("You can now log into Pinterest with your Facebook account.","Inform users they should log in with Facebook after compromised account flow"))),o.a.createElement(d.c,{paddingBottom:4,paddingX:4},o.a.createElement(d.K,null,a.a._("That means your old password will no longer work.","Inform users they cannot login with a password after using social connect in compromised account flow"))))},O=n("4fCo"),S=function(e){var t=e.onClick,n=e.text;return r.createElement(d.c,{marginStart:2},r.createElement(d.d,{color:"transparent",inline:!0,onClick:t,text:n}))},j=function(e){var t=e.onChangePassword,n=e.onDismiss,o=e.onFacebookConnect,i=e.onGoogleConnect;return r.createElement("div",{className:"gridCentered"},r.createElement(d.c,{marginTop:6,marginEnd:3,marginStart:3,overflow:"hidden",shape:"rounded"},r.createElement(d.c,{color:"darkGray",paddingY:4,paddingX:4},r.createElement(d.c,{display:"flex",alignItems:"start",justifyContent:"between"},r.createElement(d.c,{flex:"grow"},r.createElement(d.K,{color:"white",bold:!0},a.a._("Based on our automatic security checks, it looks like your Pinterest password is the same as one that was stolen from another site.","Notify user their account credentials are compromised")),r.createElement(d.c,{marginTop:3},r.createElement(d.K,{color:"white",bold:!0},a.a._("We recommend you change your password or connect your Google or Facebook account.","Suggest a user change their password or connect to Google / Facebook")))),r.createElement(d.c,{marginTop:-2,marginEnd:-2},r.createElement(d.o,{accessibilityLabel:a.a._("Close","accessibility close label"),onClick:n,icon:"cancel"}))),r.createElement(d.c,{xs:{display:"flexColumn"},sm:{display:"flex"},marginTop:4},r.createElement(d.d,{inline:!0,onClick:t,text:a.a._("Change Password","Shows a form for the user to change their password")}),r.createElement(S,{onClick:i,text:a.a._("Connect with Google")}),r.createElement(S,{onClick:o,text:a.a._("Connect with Facebook")})))))},I=n("9CQp"),T=n("Q9Wq"),A=n("+pqy");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=M(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==R(o)&&"function"!=typeof o?F(r):o,N(F(F(n)),"state",{activeModal:null}),N(F(F(n)),"socialManager",A.a.instance()),N(F(F(n)),"activateModal",(function(e){return function(){return n.setState({activeModal:e})}})),N(F(F(n)),"handleConnect",(function(e){return function(){n.activateModal(null)(),n.socialManager.handleConnect(e,!0,{success:n.activateModal("google"===e?"connectedGoogle":"connectedFacebook")})}})),N(F(F(n)),"handlePasswordChangeSuccessConfirm",(function(){n.activateModal(null)(),n.props.onComplete()})),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e,t=this,n=this.props,o=n.onComplete,a=n.onDismiss,i=this.state.activeModal;return"confirmGoogleConnect"===i||"connectedGoogle"===i?e="google":"confirmFacebookConnect"!==i&&"connectedFacebook"!==i||(e="facebook"),r.createElement(r.Fragment,null,r.createElement(j,{onChangePassword:this.activateModal("changePassword"),onDismiss:a,onFacebookConnect:this.activateModal("confirmFacebookConnect"),onGoogleConnect:this.activateModal("confirmGoogleConnect")}),"changePassword"===i&&r.createElement(O.a,null,(function(e){return r.createElement(T.a,{hasPassword:!!e.isAuth&&e.hasPassword,onHide:t.activateModal(null),onPasswordForgotModal:t.activateModal("forgotPassword"),onSuccess:t.activateModal("changedPasswordSuccess"),username:e.isAuth?e.username:""})})),"changedPasswordSuccess"===i&&r.createElement(I.a,{onHide:this.handlePasswordChangeSuccessConfirm}),"forgotPassword"===i&&r.createElement(P.a,{variant:"changePassword",onHide:this.activateModal(null)}),("confirmGoogleConnect"===i||"confirmFacebookConnect"===i)&&e&&r.createElement(k,{connectType:e,onConfirm:this.handleConnect(e),onHide:this.activateModal(null)}),("connectedGoogle"===i||"connectedFacebook"===i)&&e&&r.createElement(C,{connectType:e,onConfirm:o}))}}])&&L(n.prototype,o),a&&L(n,a),t}(r.Component),z=function(e){var t=e.placementId;return r.createElement(v.a,{experienceIds:[500818],placementId:t},(function(e){var t=e.complete,n=e.dismiss;return r.createElement(G,{onComplete:t,onDismiss:n})}))},B=n("GjKX"),W=n("zEno"),U=n("lglE"),H=n("+H5w");function K(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Y=function(e){var t=e.placementId,n=K(e,["placementId"]);return r.createElement(v.a,{placementId:t,type:9},(function(e){var t=e.complete,o=e.dismiss,a=e.display_data;return r.createElement(W.a,Object.assign({},Object(H.a)(U.a,!0)(a),{handleComplete:t,handleDismiss:o},n))}))};function V(e){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component;var J=n("Irlq"),$={borderRadius:16,paddingTop:8,paddingBottom:28,paddingLeft:20,paddingRight:20};function ee(e){var t=e.handleComplete,n=void 0===t?function(){}:t,r=e.topicName,i=void 0===r?"":r,c=e.negativeResponse,l=void 0!==c&&c;return o.a.createElement(d.c,{display:"flex",direction:"column",color:"white",overflow:"hidden",shape:"rounded",padding:4,width:650},o.a.createElement(d.c,{alignSelf:"end",display:"flex"},o.a.createElement(d.o,{accessibilityLabel:a.a._("Close","accessible label for close button"),iconColor:"gray",icon:"cancel",onClick:function(){return n()},size:"xl"})),o.a.createElement("div",{style:$},o.a.createElement(d.c,{display:"flex"},o.a.createElement(d.m,{size:"sm"},a.a._("Thanks for your feedback","Header for email feedback landing experience"))),o.a.createElement(d.c,{paddingY:4},o.a.createElement(d.K,{overflow:"normal",size:"lg"},function(e,t){return e?Object(J.b)(a.a._("We will stop sending you emails about {{ topicName }} and use this information to improve the quality of your recommendations via email in the future.","Negative feedback message"),{topicName:t}):a.a._("This will help us improve the quality of your recommendations via email in the future.","Positive feedback message")}(l,i)))))}var te=n("Ivf5"),ne=n("RuD8"),re=n.n(ne),oe=n("ePT2");function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de={FIRST:"first",END:"end"},pe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=ce(t).call(this,e),n=!o||"object"!==ae(o)&&"function"!=typeof o?se(r):o,ue(se(se(n)),"onCheck",(function(e){var t=e.checked;501312===n.props.experienceId?Object(u.a)("auth.web.fix_bounced_email_modal.uncheck.notifications.box"):Object(u.a)("auth.web.fix_email_modal.uncheck.notifications.box"),n.setState({checked:t})})),ue(se(se(n)),"onTextChange",(function(e){var t=e.value;501312===n.props.experienceId?Object(u.a)("auth.web.fix_bounced_email_modal.change.email.text"):Object(u.a)("auth.web.fix_email_modal.change.email.text"),n.setState({newEmail:t})})),ue(se(se(n)),"closeModal",(function(){var e=n.props.handleComplete;setTimeout(e,5e3)})),ue(se(se(n)),"updateEmailAddress",(function(){var e=n.props.currentEmail,t=n.state,r=t.checked,o=t.newEmail;e&&o&&e.trim()!==o?oe.a.create("UserSettingsResource",{email:o,email_bounced:!1}).callUpdate({showError:!1}).then((function(){return n.updateNotifSetting(r)}),(function(e){return n.setState({errorMessage:e.message})})):n.updateNotifSetting(r)})),ue(se(se(n)),"updateNotifSetting",(function(e){var t;n.setState({currentStep:de.END}),t=!0===e?{section:"settings_email_everything",option:"ONLY_REQUIRED",value:!1}:{section:"settings_email_everything",option:"ONLY_REQUIRED",value:!0},oe.a.create("EmailSettingsResource",t).callUpdate(),501312===n.props.experienceId?(Object(u.a)("auth.web.fix_bounced_email_modal.completed"),n.closeModal()):(Object(u.a)("auth.web.fix_email_modal.completed"),n.closeModal())})),n.state={currentStep:de.FIRST,newEmail:e.currentEmail,checked:!0},n}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,e),n=t,(r=[{key:"getModalText",value:function(e){return e===de.FIRST?501312===this.props.experienceId?this.props.descriptionText:a.a._("We're having some trouble reaching you. Is this still your email?","prompt to update email"):a.a._("Thanks! Your email preferences have been saved.","after updating email address")}},{key:"renderStep",value:function(e){var t=this.state,n=t.checked,r=t.errorMessage,c=t.newEmail,l=this.props.experienceId;return e===de.FIRST?501312===l?o.a.createElement(d.c,null,o.a.createElement(d.M,{id:"email",type:"email",onChange:this.onTextChange,value:c,errorMessage:r}),o.a.createElement(d.c,{paddingY:2},o.a.createElement(d.d,{color:"red",text:a.a._("Done","done updating email address"),onClick:this.updateEmailAddress})),o.a.createElement(d.c,{alignItems:"center",display:"flex"},o.a.createElement(d.f,{checked:n,id:"notif",onChange:this.onCheck,size:"sm"}),o.a.createElement(d.q,{htmlFor:"notif"},o.a.createElement(d.c,{paddingX:2},o.a.createElement(d.K,{size:"sm"},a.a._("Want to get recommendations and updates in your inbox?","checkbox option in a prompt")))))):o.a.createElement(d.c,{maxWidth:310},o.a.createElement(d.c,{alignItems:"center",display:"flex",marginBottom:6},o.a.createElement(d.f,{checked:n,id:"notif",onChange:this.onCheck,size:"sm"}),o.a.createElement(d.q,{htmlFor:"notif"},o.a.createElement(d.c,{paddingX:2},o.a.createElement(d.K,{size:"sm"},a.a._("Want to get recommendations and updates in your inbox?","checkbox option in a prompt"))))),o.a.createElement(d.M,{id:"email",type:"email",onChange:this.onTextChange,value:c,errorMessage:r}),o.a.createElement(d.c,{paddingY:1},o.a.createElement(d.d,{color:"red",text:a.a._("Done","done updating email address"),onClick:this.updateEmailAddress}))):o.a.createElement(d.K,{overflow:"normal",size:"lg"},Object(J.b)(a.a._("You can always change them later from your {{settingsLink}}.","link to change email settings"),{settingsLink:o.a.createElement(i.b,{key:"settingsLink",to:"/settings/"},a.a._("Settings","link to edit account settings"))}))}},{key:"render",value:function(){var e=this.props,t=e.handleDismiss,n=e.experienceId,r=e.titleText,i=e.userAvatar,c=e.userPhoto,l=e.userName,s=this.state.currentStep;return 501312===n?o.a.createElement(d.y,{accessibilityCloseLabel:"close",accessibilityModalLabel:o.a.createElement(d.c,{display:"flex",justifyContent:"center",alignItems:"center"},r),heading:r,onDismiss:function(){Object(u.a)("auth.web.fix_bounced_email_modal.dismiss"),t()},footer:null,role:"alertdialog",size:"sm"},o.a.createElement(d.c,null,c?o.a.createElement(d.c,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(d.a,{display:"flex",src:i,name:l,size:"lg"})):null,o.a.createElement(d.c,null,o.a.createElement(d.c,{paddingX:4,paddingY:2},o.a.createElement(d.K,null,this.getModalText(s))),o.a.createElement(d.c,{padding:4,alignSelf:"center"},this.renderStep(s))))):o.a.createElement(d.c,{color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},o.a.createElement(d.c,{display:"flex",alignItems:"center"},o.a.createElement(d.c,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},o.a.createElement(d.c,{width:292,height:479,marginBottom:-6},o.a.createElement(d.p,{alt:a.a._("preview of mobile app","prompt to fix email"),naturalWidth:292,naturalHeight:479,src:re.a}))),o.a.createElement(d.c,{position:"relative"},o.a.createElement(d.c,{display:"flex",alignItems:"center",width:330,height:540},o.a.createElement(d.c,{paddingX:3},o.a.createElement(d.c,{paddingY:6},o.a.createElement(d.K,{bold:!0,overflow:"normal",size:"xl"},this.getModalText(s))),this.renderStep(s))),s===de.FIRST&&o.a.createElement(d.c,{padding:6,position:"absolute",bottom:!0,right:!0},o.a.createElement(d.P,{onTouch:function(){Object(u.a)("auth.web.fix_email_modal.dismiss"),t()},fullWidth:!1},o.a.createElement(d.K,{bold:!0},a.a._("Skip for now","Skip prompt to change email address")))))))}}])&&ie(n.prototype,r),c&&ie(n,c),t}(r.Component),fe=Object(te.connect)((function(e){return{userAvatar:e.viewer.imageLargeUrl,userName:e.viewer.name}}))(pe),me=n("QG6s"),he=n("Mr4W"),be=n("UmN8"),ye=n("ovu7");function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe={FIRST:"first",END:"end"},ke={__style:{width:"382px",height:"112px",fontFamily:"HelveticaNeue",fontSize:"48px",fontWeight:"bold",fontStyle:"normal",fontStretch:"normal",lineHeight:"1.17",color:"#333333"}},Ce=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,o=(e=ve(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==ge(o)&&"function"!=typeof o?_e(r):o,Pe(_e(_e(n)),"state",{buttonLoading:!1,currentStep:xe.FIRST,currentEmail:n.props.currentEmail,newPassword:"",repeatPassword:"",newPasswordErrors:[],repeatPasswordErrors:[]}),Pe(_e(_e(n)),"getFocusFieldRef",(function(e){var t=Object(he.findDOMNode)(e);if(t&&t instanceof HTMLElement){var n=t.querySelector("input");n&&n.focus()}})),Pe(_e(_e(n)),"handleCancel",(function(e){Object(u.a)("unauth_web.password_upsell_modal.submit.".concat(e)),n.props.handleDismiss()})),Pe(_e(_e(n)),"handleSubmit",(function(e){var t=n.props.handleComplete,r=n.state,o=r.newPassword,a=r.newPasswordErrors,i=r.repeatPassword,c=r.repeatPasswordErrors;if(n.handleButtonLoading(!0),n.handleBlankFields(),a.length||c.length||""===o||""===i)n.handleButtonLoading(!1);else{var l={new_password:o,new_password_confirm:i};Object(u.a)("unauth_web.password_upsell_modal.submit.".concat(e)),oe.a.create("UserPasswordResource",l).callUpdate({showError:!1}).then((function(){n.setState({currentStep:xe.END}),setTimeout(t,e)}),(function(e){Object(u.a)("unauth_web.password_upsell_modal.update_error.".concat(e.api_error_code)),n.setState({newPasswordErrors:[e.message]}),n.handleButtonLoading(!1)}))}})),Pe(_e(_e(n)),"handleBlankFields",(function(){var e={};""===n.state.newPassword&&(e.newPasswordErrors=[a.a._("Required","Error message to hint user missed a field.")]),""===n.state.repeatPassword&&(e.repeatPasswordErrors=[a.a._("Required","Error message to hint user missed a field.")]),n.setState(e)})),Pe(_e(_e(n)),"runValidators",(function(e,t){var n=[],r={};return e.forEach((function(e){var o=e(t);o&&"number"==typeof o.score&&(r={score:o.score}),n=n.concat(o.errors)})),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Pe(e,t,n[t])}))}return e}({errors:n},r)})),Pe(_e(_e(n)),"updateAndValidate",(function(e,t){var r,o={newPassword:n.state.newPassword,repeatPassword:n.state.repeatPassword};o[e]=t;var a=[],i=[];""!==o.newPassword&&(a=n.validateNewPassword(o.newPassword).errors),""!==o.repeatPassword&&""!==o.newPassword&&(i=n.validateRepeatPassword(o.newPassword,o.repeatPassword).errors),n.setState((Pe(r={},e,t),Pe(r,"newPasswordErrors",a),Pe(r,"repeatPasswordErrors",i),r))})),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,e),n=t,(r=[{key:"getModalText",value:function(e){return e===xe.FIRST?a.a._("Oh, no! You haven't set up your password yet.","prompt to upsell social users to setup their password"):a.a._("You are all set! Now you can login in using your email and password.","message to show after user successfully setup  his/her password")}},{key:"handleButtonLoading",value:function(e){this.setState({buttonLoading:e})}},{key:"validateNewPassword",value:function(e){var t=[Object(ye.p)(),Object(ye.b)({message:a.a.commonStrings.asciiPasswordError}),Object(ye.m)({username:this.props.username,samePasswordStr:a.a._("Oops! Your password shouldn’t match your username.","Error message when user set his/her user name as his/her password ")})];return this.runValidators(t,e)}},{key:"validateRepeatPassword",value:function(e,t){var n=[Object(ye.p)(),Object(ye.g)({targetValue:e,message:a.a._("Passwords don’t match","Error message when the password and typed password are different")})];return this.runValidators(n,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentEmail,r=t.currentStep,i=t.newPassword,c=t.repeatPassword,l=t.newPasswordErrors,s=t.repeatPasswordErrors,u=i&&c&&0===l.length&&0===s.length;return o.a.createElement(be.a,{name:"upsell_social_user_set_password",activate:!1},(function(t){return t.group.startsWith("enabled_var1")?o.a.createElement(d.c,{display:"flex",direction:"column",color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},o.a.createElement(d.c,{display:"flex",alignItems:"center"},o.a.createElement(d.c,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},o.a.createElement(d.c,{width:292,height:479,marginBottom:-6},o.a.createElement(d.p,{alt:a.a._("preview of mobile app","prompt to setup password"),naturalWidth:292,naturalHeight:479,src:re.a}))),o.a.createElement(d.c,{position:"relative"},o.a.createElement(d.c,{display:"flex",alignItems:"center",width:330,height:540},o.a.createElement(d.c,{paddingY:6,marginTop:5},o.a.createElement(d.K,{bold:!0,overflow:"normal",size:"xl"},e.getModalText(r)),r===xe.FIRST&&o.a.createElement(d.c,null,o.a.createElement(d.c,null,o.a.createElement(d.c,{display:"flex",marginTop:6},o.a.createElement(d.c,{width:80,display:"flex",alignItems:"center"},o.a.createElement(d.q,{htmlFor:"changePasswordNew"},o.a.createElement(d.K,{bold:!0}," ",a.a._("Email","label for email field")))),o.a.createElement(d.K,null,n)),o.a.createElement(d.c,{display:"flex",marginTop:3},o.a.createElement(d.c,{width:80,display:"flex",alignItems:"center"},o.a.createElement(d.q,{htmlFor:"changePasswordNew"},o.a.createElement(d.K,{bold:!0},a.a._("Password","label for new password field")))),o.a.createElement(d.c,{width:225},o.a.createElement(d.M,{ref:e.getFocusFieldRef,errorMessage:l[0],id:"changePasswordNew",name:"new",onChange:function(t){var n=t.value;return e.updateAndValidate("newPassword",n)},type:"password",value:i}))),o.a.createElement(d.c,{display:"flex",marginTop:3},o.a.createElement(d.c,{width:80,display:"flex",alignItems:"center"},o.a.createElement(d.q,{htmlFor:"changePasswordRetype"},o.a.createElement(d.K,{bold:!0},a.a._("Retype","label for retype password field")))),o.a.createElement(d.c,{width:225},o.a.createElement(d.M,{errorMessage:s[0],id:"changePasswordRetype",name:"new_confirm",onChange:function(t){var n=t.value;return e.updateAndValidate("repeatPassword",n)},type:"password",value:c})))),o.a.createElement(d.c,{display:"flex",justifyContent:"between",marginTop:5,marginRight:6},o.a.createElement(d.d,{color:"red",type:"submit",disabled:!u||e.state.buttonLoading,onClick:function(){return e.handleSubmit(2500)},text:a.a._("Set Password","Label text for button that will set password."),size:"md"})),o.a.createElement(d.c,{display:"flex",justifyContent:"between",marginTop:3,marginRight:6},o.a.createElement(d.d,{onClick:function(){return e.handleCancel(2500)},text:a.a._("Cancel","Label text for button that will set password."),size:"md"})))))))):o.a.createElement(d.c,{display:"flex",direction:"column",color:"white",overflow:"hidden",shape:"rounded",padding:4,width:414,height:436},o.a.createElement(d.c,{display:"flex"},o.a.createElement(d.c,{dangerouslySetInlineStyle:ke},a.a._("You need a password","Header text for password upsell for social users.")),o.a.createElement(d.c,null,o.a.createElement(d.o,{accessibilityLabel:a.a._("Close","accessible label for close button"),iconColor:"gray",icon:"cancel",onClick:function(){return e.handleCancel(0)},size:"xl"}))),o.a.createElement(d.c,{marginTop:8},o.a.createElement(d.K,{overflow:"normal",size:"lg"},a.a._("Oh no! Looks like you haven't created a password for this account yet. Set it now to log in with email and password in the future.","Explanatory text to upsell social users to setup their password")),o.a.createElement(d.c,{marginTop:3},o.a.createElement(d.K,{bold:!0,size:"lg"},n)),o.a.createElement(d.c,{marginTop:2},o.a.createElement(d.M,{ref:e.getFocusFieldRef,errorMessage:l[0],id:"changePasswordNew",name:"new",onChange:function(t){var n=t.value;return e.updateAndValidate("newPassword",n)},placeholder:a.a._("Enter Password","placeholder text for the password textfield"),type:"password",value:i})),o.a.createElement(d.c,{marginTop:2},o.a.createElement(d.M,{errorMessage:s[0],id:"changePasswordRetype",name:"new_confirm",onChange:function(t){var n=t.value;return e.updateAndValidate("repeatPassword",n)},placeholder:a.a._("Re-enter Password","placeholder text for the retype password textfield"),type:"password",value:c}))),o.a.createElement(d.c,{display:"flex",justifyContent:"between",marginTop:2},o.a.createElement(d.d,{color:"red",type:"submit",disabled:!u||e.state.buttonLoading,onClick:function(){return e.handleSubmit(0)},text:a.a._("Create Password","Label text for button that will set password."),size:"lg"})))}))}}])&&we(n.prototype,r),i&&we(n,i),t}(r.Component);var Oe=function(e){var t=e.placementId;return r.createElement(v.a,{experienceIds:[501629,501312,500331,500886],placementId:t},(function(e){var t=e.experience_id,n=e.complete,o=e.dismiss,a=e.display_data,i=function(e){switch(e){case 501629:return ee;case 500886:return Ce;default:return fe}}(t);return r.createElement(me.a,{noButton:!0,onHide:o},r.createElement(i,Object.assign({},Object(H.a)(U.a)(a),{handleComplete:n,handleDismiss:o,experienceId:t})))}))},Se=(n("hGZ8"),n("EDDr"));n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return _.a})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return B.default})),n.d(t,"f",(function(){return Y})),n.d(t,"e",(function(){return Oe})),n.d(t,"g",(function(){return Se.a}))},"8WpO":function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("+U6O");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=["#4A90E2","#0FA573","#B469EB","#F13535","#E2780D"],f=120,m=800,h=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},b=function(e){return e*(Math.PI/180)},y=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),y=0;y<c;y++)s[y]=arguments[y];return o=this,a=(e=l(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==i(a)&&"function"!=typeof a?u(o):a,d(u(u(n)),"animationTimer",null),d(u(u(n)),"canvasRemovalTimer",null),d(u(u(n)),"containerRef",Object(r.createRef)()),d(u(u(n)),"buildCanvas",(function(){if(!n.containerRef.current)return null;var e=n.containerRef.current.getBoundingClientRect(),t=e.height,r=e.width,o=2.5*t,a=document.createElement("canvas");return a.style.position="absolute",a.style.left="".concat(0-(o-r)/2,"px"),a.style.top="".concat(0-(o-t)/2,"px"),a.style.pointerEvents="none",a.style.width="".concat(o,"px"),a.style.height="".concat(o,"px"),a.style.overflow="visible",a.width=o,a.height=o,a})),d(u(u(n)),"explode",(function(){var e=n.buildCanvas();if(e){var t=n.containerRef.current,r=e.getContext("2d");t.prepend(e);!function e(t,n,r,o){window.requestAnimationFrame((function(){return e(t,n,r,o)})),n.clearRect(0,0,r,o),t.forEach((function(e,t){e.x+=e.speed*Math.cos(b(e.degree)),e.y+=e.speed*Math.sin(b(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(n.beginPath(),n.globalAlpha=e.opacity,n.fillStyle=e.color,n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.fill())}))}(Array.from(Array(f)).map((function(t,n){return{x:e.width/2,y:e.height/2,radius:Math.round(h(10,30)),color:p[Math.floor(Math.random()*p.length)],degree:Number(h(0,360).toFixed(1)),speed:Math.round(h(0,25)),friction:.9,opacity:Number(h(0,.5).toFixed(1)),yVel:0,gravity:.04}})),r,e.width,e.height),n.canvasRemovalTimer=setTimeout((function(){t.removeChild(e)}),n.props.delay+m)}})),n}var n,y,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(y=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.delay,r=t.startAnimation,o=e.startAnimation;r&&o!==r&&(this.animationTimer=setTimeout(this.explode,n))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return o.a.createElement(a.c,{ref:this.containerRef,position:"relative"},this.props.children)}}])&&c(n.prototype,y),g&&c(n,g),t}(r.PureComponent);d(y,"defaultProps",{delay:0}),t.a=y},"9CQp":function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=n("dsfX"),c=n("+U6O");t.a=function(e){var t=e.onHide,n=a.a._("Password Changed!");return o.a.createElement(i.b,{accessibilityCloseLabel:a.a._("Close"),accessibilityModalLabel:n,onDismiss:t,heading:n,footer:o.a.createElement(c.c,{display:"flex",alignItems:"center",justifyContent:"end"},o.a.createElement(c.d,{color:"red",inline:!0,onClick:t,text:a.a._("Okay"),size:"md"}))},o.a.createElement(c.c,{padding:4},o.a.createElement(c.K,null,a.a._("Your password has been changed successfully."))))}},EDDr:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("iz36"),i=(n("hvnN"),n("2cEh")),c=n("+U6O"),l=[500329,500410,500688];t.a=function(e){var t=e.placementId;return o.a.createElement(a.a,{placementId:t,experienceIds:l},(function(e){e.experience_id;var t=e.complete,n=e.dismiss;e.display_data;return i.a.instance().subscribe(t,n),o.a.createElement(c.P,{onTouch:n,fullWidth:!1},o.a.createElement("div",{className:"experienceSystemPushOverlay"}),";")}))}},FEwd:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("VLF8"),i=n("iVPt"),c=n("+U6O"),l=function(){return o.a.createElement("svg",{width:440,height:316,style:{opacity:1,overflow:"visible",transform:"scale(.95)"},viewBox:"0 0 440 316",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.a.createElement("defs",null,o.a.createElement("path",{d:"M15.9508 11.963c-2.2026 0-3.9877 1.7852-3.9877 3.9878 0 2.2025 1.7851 3.9877 3.9877 3.9877 2.2025 0 3.9877-1.7852 3.9877-3.9877 0-2.2026-1.7852-3.9877-3.9877-3.9877m-11.9631 0c2.2025 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7852 3.9877-3.9877 3.9877C1.7852 19.9385 0 18.1533 0 15.9508c0-2.2026 1.7852-3.9877 3.9877-3.9877zm23.9261 0c2.2026 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7851 3.9877-3.9877 3.9877-2.2025 0-3.9876-1.7852-3.9876-3.9877 0-2.2026 1.7851-3.9877 3.9876-3.9877z",id:"a"}),o.a.createElement("path",{d:"M8.4456.6691l1.3182 4.3182h4.3945c.8974 0 1.2824 1.153.569 1.705L11.133 9.4709l1.3475 4.4165c.2699.8827-.7398 1.5963-1.4654 1.0349l-3.466-2.6794-3.4659 2.6794c-.7266.5614-1.7363-.1522-1.4664-1.035L3.9653 9.471.37 6.6923c-.7124-.552-.3274-1.705.57-1.705h4.3935L6.6527.6691c.2727-.8921 1.5202-.8921 1.7929 0",id:"b"}),o.a.createElement("path",{d:"M8.0882 12.9614c-2.6756 0-4.853-2.1808-4.853-4.8606 0-2.6797 2.1774-4.8605 4.853-4.8605 2.6756 0 4.853 2.1808 4.853 4.8605 0 2.6798-2.1774 4.8606-4.853 4.8606m10.6126 2.3314l-3.444-3.4486c.5848-1.1203.9197-2.3921.9197-3.7434C16.1765 3.6268 12.5554 0 8.0882 0 3.6211 0 0 3.6267 0 8.1008s3.6211 8.1009 8.0882 8.1009c1.3492 0 2.619-.3354 3.7376-.921L15.269 18.73c.948.9494 2.4839.9494 3.4318 0 .948-.9486.948-2.4878 0-3.4372",id:"c"}),o.a.createElement("path",{d:"M0 39.5562c0 16.8872 10.5846 31.3054 25.4808 36.9784-.3626-3.0887-.7483-8.1815.0824-11.7548.7153-3.0722 4.6182-19.5737 4.6182-19.5737s-1.1768-2.3569-1.1768-5.8477c0-5.472 3.171-9.5594 7.1234-9.5594 3.3622 0 4.984 2.5217 4.984 5.5444 0 3.3788-2.1525 8.4288-3.2633 13.113-.9263 3.9193 1.9679 7.1167 5.8312 7.1167 6.9982 0 12.381-7.3805 12.381-18.0343 0-9.4308-6.7772-16.0202-16.452-16.0202-11.201 0-17.7772 8.4023-17.7772 17.0882 0 3.3854 1.302 7.0114 2.9305 8.9859.3197.3922.3692.7318.2736 1.1306-.3 1.246-.9659 3.9194-1.0944 4.4666-.1747.7186-.5703.8735-1.3186.524-4.9181-2.2876-7.9903-9.477-7.9903-15.2521 0-12.424 9.022-23.8293 26.0148-23.8293 13.66 0 24.2776 9.7341 24.2776 22.7415 0 13.571-8.554 24.4952-20.434 24.4952-3.992 0-7.74-2.0767-9.0255-4.526 0 0-1.9745 7.5223-2.4525 9.3617-.9295 3.5732-3.5073 8.0958-5.106 10.6637 3.6853 1.134 7.5948 1.7437 11.6493 1.7437 21.8449 0 39.5561-17.7112 39.5561-39.5561C79.1123 17.7112 61.4011 0 39.5562 0 17.7112 0 0 17.7113 0 39.5562",id:"d"})),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M15.12 33.6034c-7.6878 0-13.92 6.2322-13.92 13.92V300.88c0 7.6878 6.2322 13.92 13.92 13.92h409.76c7.6878 0 13.92-6.2322 13.92-13.92V47.5234c0-7.6878-6.2322-13.92-13.92-13.92H15.12z",stroke:"#DEDEDE",strokeWidth:"2.4",fill:"#FFF"}),o.a.createElement("g",{transform:"translate(0 ".concat(32.441,")")},o.a.createElement("path",{d:"M15.12 0h409.76C433.2305 0 440 6.7695 440 15.12v48.6067H0V15.12C0 6.7695 6.7695 0 15.12 0z",fill:"#DEDEDE"}),o.a.createElement("rect",{fill:"#FFF",x:"15.5858",y:"12.0152",width:"218.9216",height:"38.8841",rx:"19.442"}),o.a.createElement("use",{fill:"#FFF",xlinkHref:"#a",transform:"translate(384.8501 15.6198)"}),o.a.createElement("use",{fill:"#DEDEDE",xlinkHref:"#b",transform:"translate(206.2125 24.0304)"}),o.a.createElement("use",{fill:"#DEDEDE",xlinkHref:"#c",transform:"translate(26.376 21.6274)"})),o.a.createElement("g",{fill:"#DEDEDE"},o.a.createElement("rect",{id:"content-morph",x:31,y:139,width:"230.7843",height:"126.3732"}),o.a.createElement("rect",{className:"content-bar",x:"281.4706",y:"139.3346",width:"126.1765",height:"14.0415"}),o.a.createElement("rect",{className:"content-bar",x:"281.4706",y:"164.1772",width:"85.1961",height:"14.0415"})),o.a.createElement("ellipse",{fill:"#FFF",fillOpacity:"0.49",cx:38,cy:38,rx:38,ry:37.8,id:"pinterest-logo-pop-bg"}),o.a.createElement("g",{id:"pinterest-logo",transform:"translate(".concat(277.1569,") scale(").concat(1,")")},o.a.createElement("ellipse",{fill:"#FFF",cx:"37.8",cy:"37.8479",rx:37.8,ry:37.8}),o.a.createElement("g",{transform:"translate(0 .0493)"},o.a.createElement("mask",{id:"e",fill:"#fff"},o.a.createElement("use",{xlinkHref:"#d"})),o.a.createElement("g",{mask:"url(#e)",fill:"#E60023"},o.a.createElement("rect",{width:"80.1649",height:"80.1649"}))))))};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t,n){return e-t/2*(n-1)},y=b(277.1569,75.6,1.4),g=b(0,75.6,1.4),w=b(279,76,2.1),v=b(2,75.6,2.1),E={targets:".simplePopExtensionContent",opacity:[0,1],duration:500,easing:"easeInOutQuad"},_={targets:["#content-morph",".content-bar"],opacity:[0,1]},P={targets:"#content-morph",width:30,height:30,x:220,y:203,rx:20},x={targets:".content-bar",width:0,height:0,x:215,y:218},k={targets:"#content-morph",x:301,y:24},C={targets:"#pinterest-logo",translateX:[277.1569,y],translateY:g,scale:1.4,direction:"alternate"},O={targets:"#pinterest-logo",translateX:[y,277.1569],translateY:0,scale:1,direction:"alternate"},S={targets:"#pinterest-logo-pop-bg",translateX:[279,w],translateY:[2,v],scale:2.1,direction:"alternate"},j={targets:"#pinterest-logo-pop-bg",translateX:[w,279],translateY:[v,2],scale:1},I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,p(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.isLooping;window.requestAnimationFrame((function(){var t=function(e){var t=500+(e?0:750),n=t+300,r=n,o=n+280,a=r+210,c=i.a.timeline({easing:"easeInOutQuad",loop:e,direction:"normal",autoplay:!1});return c.add(m({},_,{duration:500})),e||c.add({duration:750}),c.add(m({},P,{duration:300}),t).add(m({},x,{duration:300}),t).add(m({},k,{duration:300}),n).add(m({},C,{duration:280}),n).add(m({},S,{duration:210}),r).add(m({},O,{duration:190,easing:"cubicBezier(0, 0, 0.23, 0.8)"}),o).add(m({},j,{duration:300}),a).add({duration:1400}),c}(e);Object(i.a)(E).finished.then((function(){return t.play()}))}))}},{key:"render",value:function(){return o.a.createElement(c.c,{display:"flex",flex:"grow",justifyContent:"center",alignItems:"center",marginTop:Math.floor(-8.11025)},o.a.createElement(l,null))}}])&&u(n.prototype,r),a&&u(n,a),t}(o.a.PureComponent);h(I,"defaultProps",{isLooping:!1});var T=I,A=n("Qo1m"),R=n("NmcB");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return B}));var z=function(e){var t=e.header,n=e.installClick,r=e.skipClick,a=e.subheader;return o.a.createElement(c.c,{direction:"column",display:"flex",height:"100%",width:"100%"},o.a.createElement(c.c,{direction:"column",display:"flex",maxWidth:700,padding:8,wrap:!0},o.a.createElement(c.m,{size:"xs"},t),o.a.createElement(c.K,{size:"xl"},a)),o.a.createElement(c.c,{display:"flex",flex:"grow",margin:8},o.a.createElement(T,{isLooping:!0})),o.a.createElement(c.j,null),o.a.createElement(c.c,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",padding:4,width:"100%"},o.a.createElement(c.d,{accessibilityLabel:A.a._("Get the Pinterest browser extension","Accesibility label for the Pinterest browser extension"),color:"red",onClick:n,text:A.a._("Get it now","Get the Pinterest browser extension"),size:"lg"}),o.a.createElement(c.c,{dangerouslySetInlineStyle:{__style:{color:"#8e8e8e",textDecoration:"underline"}},marginTop:4},o.a.createElement(c.P,{onTouch:r,mouseCursor:"pointer"},o.a.createElement(c.K,{bold:!0,color:"gray"},A.a._("Skip"))))))},B=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,o=(e=D(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==L(o)&&"function"!=typeof o?N(r):o,G(N(N(n)),"onInstallButtonClicked",(function(){var e=n.props.handleComplete;a.a.handleExtensionInstall(e),Object(R.a)(101,{component:17,element:280,view:3,viewParameter:3226})})),G(N(N(n)),"onSkipButtonClick",(function(){var e=n.props.handleDismiss;Object(R.a)(101,{component:17,element:1150,view:3,viewParameter:3226}),e()})),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){Object(R.a)(13,{view:3,viewParameter:3226})}},{key:"render",value:function(){return o.a.createElement(z,{header:A.a._("Get the Pinterest browser button","Heading for downloading Pinterest chrome extension app"),installClick:this.onInstallButtonClicked,skipClick:this.onSkipButtonClick,subheader:A.a._("Save creative ideas from around the web.","Subheader text for downloading Pinterest chrome extension app")})}}])&&M(n.prototype,r),i&&M(n,i),t}(r.PureComponent)},G8pY:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=(n("hvnN"),n("+U6O")),c=n("4+0X");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={backgroundColor:"transparent",border:0,right:80},b=function(e){function t(e,n){var r,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=!(a=d(t).call(this,e,n))||"object"!==l(a)&&"function"!=typeof a?f(o):a,m(f(f(r)),"subscribers",[]);var i=e.handleComplete,u=e.transitionEvent,p=["navigateStarted"].concat(s(u?[u]:[]));return r.subscribers=p.map((function(e){return c.b.subscribe("site",e,i)})),r}var n,r,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.subscribers.forEach((function(e){return e.unsubscribe()})),this.subscribers=[]}},{key:"render",value:function(){var e=this.props,t=e.bannerText,n=e.canClose,r=e.handleComplete;return o.a.createElement("div",{className:"Module BottomBanner"},o.a.createElement("div",{className:"bannerContainer"},o.a.createElement("div",{className:"bannerText"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),n&&o.a.createElement("button",{className:"absolute closeButton p0",onClick:r,style:h},o.a.createElement(i.n,{accessibilityLabel:a.a._("close","Accessible label for the banner close button"),color:"white",icon:"cancel",inline:!0}))))}}])&&u(n.prototype,r),b&&u(n,b),t}(r.Component);m(b,"defaultProps",{canClose:!1});var y=b,g=n("iz36"),w=n("lglE"),v=n("+H5w"),E=[11019,11023,500207];t.a=function(e){var t=e.placementId;return r.createElement(g.a,{placementId:t,experienceIds:E},(function(e){var t=e.complete,n=e.dismiss,o=e.display_data;return r.createElement(y,Object.assign({},Object(v.a)(w.a)(o),{handleComplete:t,handleDismiss:n}))}))}},IX6r:function(e,t,n){},Ljpz:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=n("dsfX"),c=n("+U6O");function l(e){var t=e.onHide,n=e.variant,r=a.a._("Please check your email"),l="";switch(n){case"changePassword":l=a.a._("We’ll send instructions for changing your password in just a minute.","Body of email for changing password modal");break;case"setPassword":l=a.a._("We’ll send instructions for setting your password in just a minute.","Body of email for setting password modal");break;case"verifyEmailAddress":l=a.a._("We’ll send you a verification email in just a minute.","Body of email for verifying email address modal")}return o.a.createElement(i.b,{accessibilityCloseLabel:a.a._("Close"),accessibilityModalLabel:r,onDismiss:t,heading:r,size:"md",footer:o.a.createElement(c.c,{display:"flex",justifyContent:"end"},o.a.createElement(c.d,{color:"red",inline:!0,onClick:t,text:a.a._("Okay"),size:"md"}))},o.a.createElement(c.c,{padding:4},o.a.createElement(c.K,null,l)))}},Q9Wq:function(e,t,n){"use strict";var r=n("GyhR"),o=n("UhjI"),a=n("Qo1m"),i=n("dsfX"),c=n("ePT2"),l=n("ovu7"),s=n("+U6O");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=[],r={};return e.forEach((function(e){var o=e(t);o&&o.score&&(r={score:o.score}),n=n.concat(o.errors)})),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({errors:n},r)},y=function(e){var t=e.children,n=e.htmlFor,o=e.label,a=e.divide;return r.createElement(s.c,null,r.createElement(s.c,{display:"flex",padding:4},r.createElement(s.c,{alignItems:"center",marginRight:3,xs:{column:4}},r.createElement(s.q,{htmlFor:n},r.createElement(s.K,{bold:!0},o))),t),a?r.createElement(s.j,null):null)},g=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,d=new Array(s),f=0;f<s;f++)d[f]=arguments[f];return r=this,i=(e=p(t)).call.apply(e,[this].concat(d)),n=!i||"object"!==u(i)&&"function"!=typeof i?m(r):i,h(m(m(n)),"state",{buttonLoading:!1,modalLoading:!1,oldPassword:void 0,newPassword:void 0,repeatPassword:void 0,oldPasswordErrors:[],newPasswordErrors:[],repeatPasswordErrors:[]}),h(m(m(n)),"handleSubmit",(function(e){e.event.preventDefault();var t=n.state,r=t.oldPassword,o=t.oldPasswordErrors,a=t.newPassword,i=t.newPasswordErrors,l=t.repeatPassword,s=t.repeatPasswordErrors,u=n.props.hasPassword;if(n.handleButtonLoading(!0),n.handleBlankFields(),o.length||i.length||s.length||u&&void 0===r||void 0===a||void 0===l)n.handleButtonLoading(!1);else{var d={new_password:a,new_password_confirm:l,old_password:r};c.a.create("UserPasswordResource",d).callUpdate({showError:!1}).then((function(){n.props.onHide(),n.props.onSuccess&&n.props.onSuccess()}),(function(e){var t=((e.extra_data||{}).objects||{}).field||"old";n.setState(h({},"".concat(t,"PasswordErrors"),[e.message])),n.handleButtonLoading(!1)}))}})),h(m(m(n)),"handleForgotPassword",(function(){o.a.trackEvent("forgot_password","click"),n.handleModalLoading(!0),c.a.create("UserResetPasswordResource",{username_or_email:n.props.username}).callCreate({showError:!1}).then((function(){o.a.trackEvent("forgot_password","success"),n.props.onPasswordForgotModal(),n.handleModalLoading(!1)}),(function(){o.a.trackEvent("forgot_password","error")}))})),h(m(m(n)),"handleBlankFields",(function(){var e={};void 0===n.state.oldPassword&&(e.oldPasswordErrors=[a.a._("Required")]),void 0===n.state.newPassword&&(e.newPasswordErrors=[a.a._("Required")]),void 0===n.state.repeatPassword&&(e.repeatPasswordErrors=[a.a._("Required")]),n.setState(e)})),h(m(m(n)),"updateAndValidate",(function(e,t){var r,o={oldPassword:n.state.oldPassword,newPassword:n.state.newPassword,repeatPassword:n.state.repeatPassword};o[e]=t;var a=[],i=[],c=[];void 0!==o.oldPassword&&(a=Object(l.p)()(o.oldPassword).errors),void 0!==o.newPassword&&(i=n.validateNewPassword(o.newPassword).errors),void 0!==o.repeatPassword&&void 0!==o.newPassword&&(c=n.validateRepeatPassword(o.newPassword,o.repeatPassword).errors),n.setState((h(r={},e,t),h(r,"oldPasswordErrors",a),h(r,"newPasswordErrors",i),h(r,"repeatPasswordErrors",c),r))})),n}var n,g,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(g=[{key:"handleButtonLoading",value:function(e){this.setState({buttonLoading:e})}},{key:"handleModalLoading",value:function(e){this.setState({modalLoading:e})}},{key:"validateNewPassword",value:function(e){var t=[Object(l.p)(),Object(l.b)({message:a.a.commonStrings.asciiPasswordError}),Object(l.m)({username:this.props.username,samePasswordStr:a.a._("Oops! Your password shouldn’t match your username.")})];return b(t,e)}},{key:"validateRepeatPassword",value:function(e,t){var n=[Object(l.p)(),Object(l.g)({targetValue:e,message:a.a._("Passwords don’t match")})];return b(n,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.oldPasswordErrors,o=t.newPasswordErrors,c=t.repeatPasswordErrors,l=this.props.hasPassword,u=l?a.a._("Change your password"):a.a._("Set your password"),d=l?a.a._("Change Password"):a.a._("Save"),p=(!l||this.state.oldPassword)&&this.state.newPassword&&this.state.repeatPassword&&0===n.length&&0===o.length&&0===c.length,f=r.createElement(s.c,{alignItems:"center",justifyContent:"end",marginLeft:-1,marginRight:-1,display:"flex"},r.createElement(s.c,{paddingX:1},r.createElement(s.d,{inline:!0,onClick:this.props.onHide,text:a.a._("Cancel"),size:"md"})),r.createElement(s.c,{paddingX:1},r.createElement(s.d,{color:"red",disabled:!p||this.state.buttonLoading,inline:!0,type:"submit",onClick:this.handleSubmit,text:d,size:"md"})));return r.createElement(i.b,{accessibilityCloseLabel:a.a._("Close"),accessibilityModalLabel:u,onDismiss:this.props.onHide,heading:u,footer:f,size:"md"},l?r.createElement(s.c,null,r.createElement(s.c,{display:"flex",padding:4},r.createElement(s.c,{marginRight:3,xs:{column:4}},r.createElement(s.q,{htmlFor:"changePasswordOld"},r.createElement(s.K,{bold:!0},a.a._("Old password")))),r.createElement(s.c,{flex:"grow"},r.createElement(s.M,{autoComplete:"current-password",errorMessage:n[0],id:"changePasswordOld",name:"old",onChange:function(t){var n=t.value;return e.updateAndValidate("oldPassword",n)},type:"password",value:this.state.oldPassword}),r.createElement(s.c,{marginTop:1,overflow:"hidden"},r.createElement(s.d,{inline:!0,onClick:this.handleForgotPassword,text:a.a._("Forgot it?"),size:"md"})))),r.createElement(s.j,null)):null,r.createElement(y,{divide:!0,htmlFor:"changePasswordNew",label:a.a._("New password")},r.createElement(s.c,{flex:"grow"},r.createElement(s.M,{autoComplete:"new-password",errorMessage:o[0],id:"changePasswordNew",name:"new",onChange:function(t){var n=t.value;return e.updateAndValidate("newPassword",n)},type:"password",value:this.state.newPassword}))),r.createElement(y,{htmlFor:"changePasswordNewConfirm",label:a.a._("Type it again")},r.createElement(s.c,{flex:"grow"},r.createElement(s.M,{autoComplete:"new-password",errorMessage:c[0],id:"changePasswordNewConfirm",name:"new_confirm",onChange:function(t){var n=t.value;return e.updateAndValidate("repeatPassword",n)},type:"password",value:this.state.repeatPassword}))))}}])&&d(n.prototype,g),w&&d(n,w),t}(r.Component);t.a=g},RuD8:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/fix_email-f5fbe7f8.png"},VLF8:function(e,t,n){"use strict";var r,o=n("WQSK"),a=n("vR+M"),i=n("0xCt"),c=n("XQD6"),l={},s={};s[i.a.CHROME]={url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},s[i.a.FIREFOX]={url:"https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",newWindow:!1},s[i.a.SAFARI]={url:"https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",newWindow:!0},s[i.a.IE]={url:"https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",newWindow:!1},s[i.a.OPERA]={url:"https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",newWindow:!0},l.handleExtensionInstall=function(e){var t,n=(t=a.a.getBrowser())?s[t].url:void 0;n&&(Object(c.a)(n,function(){var e=a.a.getBrowser();return e?s[e].newWindow:void 0}()),e())},l.isExtensionInstalled=function(){return r},l.isChrome=function(){return a.a.getBrowser()===i.a.CHROME},l.extensionReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise((function(t){setTimeout((function(){document.body&&(r=document.body.hasAttribute("data-pinterest-extension-installed"),o.b("bei",r.toString()),a.a.getBrowser()===i.a.OTHER&&(r=!0),t(r))}),e)}))},l.initBrowserExtension=function(){Promise.resolve().then(n.bind(null,"yxuo")).then((function(e){var t=e.default;t.logToServer(t.SERVER_LOG_TYPE.BROWSER_EXTENSION,t.HTTP_METHOD.POST,{browser_extension_installed:r})}))},t.a=l},"g+ED":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/saveImage-e4cf8383.png"},hGZ8:function(e,t,n){"use strict";var r=n("GyhR"),o=n("iz36"),a=n("KCDi"),i=n("NmcB");t.a=function(e){return r.createElement(o.a,{placementId:e.placementId,type:10},(function(t){var n=t.complete,o=t.dismiss,c=t.display_data,l=c.link||e.linkUrl;return r.createElement(a.a,{duration:c.duration,href:l,text:c.text,onClick:function(){n(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&Object(i.a)(101,{objectId:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:function(){e.onHide(),e.completionOnDismissal?n():o()}})}))}},s199:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/clickthroughImage-803cd6e0.png"}}]);
//# sourceMappingURL=pjs-41-56f2f7e88f89b093088d.js.map
